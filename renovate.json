{
  "extends": [
    "config:base",
    ":dependencyDashboard",
    "docker:enableMajor",
    ":enablePreCommit",
    "github>whitesource/merge-confidence:beta"
  ],

  "vulnerabilityAlerts": {
    "addLabels": ["security"]
  },

  "major": {
    "dependencyDashboardApproval": true
  },

  "packageRules": [
    {
      "matchPaths": [".pre-commit-config.yaml"],
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "addLabels": ["automerge"]
    },
    {
      "matchPackageNames": "psf/black",
      "versioning": "loose"
    }
  ],

  "pip_requirements": {
    "fileMatch": ["\\.requirements.txt$"]
  },

  "regexManagers": [
    {
      "fileMatch": ["(^|/)\\.pre-commit-config\\.yaml$"],
      "matchStrings": [
        "\\s*language:\\sdocker_image\n\\s*entry:\\s(?<depName>.*?):(?<currentValue>.*?)\\s.*"
      ],
      "datasourceTemplate": "docker"
    },
    {
      "fileMatch": ["(^|/)\\.pre-commit-config\\.yaml$"],
      "matchStrings": [
        "\\s*- (?<depName>.*?)==(?<currentValue>.*?)\\s+#\\s+renovate: datasource=pypi\\s"
      ],
      "datasourceTemplate": "pypi"
    }
  ]
}
